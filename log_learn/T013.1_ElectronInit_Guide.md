# T013.1 Electron + React Initialization - Learning Guide

## Overview
This guide explains how to set up an Electron + React project with Vite and Tailwind CSS.

## Project Architecture

### Electron Process Model
```
┌─────────────────────────────────────────┐
│           Main Process                   │
│        (electron/main.ts)                │
│   - Window management                    │
│   - System APIs (file, docker)           │
│   - IPC handlers                         │
└─────────────────┬───────────────────────┘
                  │ IPC
                  ▼
┌─────────────────────────────────────────┐
│         Preload Script                   │
│       (electron/preload.ts)              │
│   - contextBridge API                    │
│   - Security boundary                    │
└─────────────────┬───────────────────────┘
                  │ window.electronAPI
                  ▼
┌─────────────────────────────────────────┐
│        Renderer Process                  │
│          (React App)                     │
│   - UI components                        │
│   - User interaction                     │
└─────────────────────────────────────────┘
```

## Key Files

### vite.config.ts
```typescript
import electron from 'vite-plugin-electron';

export default defineConfig({
  plugins: [
    react(),
    electron([
      { entry: 'electron/main.ts' },
      { entry: 'electron/preload.ts' },
    ]),
  ],
});
```

### electron/preload.ts
```typescript
import { contextBridge, ipcRenderer } from 'electron';

contextBridge.exposeInMainWorld('electronAPI', {
  dockerStatus: () => ipcRenderer.invoke('docker:status'),
});
```

### electron/main.ts
```typescript
ipcMain.handle('docker:status', async () => {
  return checkDockerStatus();
});
```

## Tailwind CSS Setup

### index.css
```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

### tailwind.config.js
```javascript
module.exports = {
  content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  theme: { extend: {} },
  plugins: [],
};
```

## Security Best Practices

### Content Security Policy
```html
<meta http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self';" />
```

### Context Isolation
```typescript
webPreferences: {
  nodeIntegration: false,  // Don't expose Node
  contextIsolation: true,  // Use preload bridge
  preload: path.join(__dirname, 'preload.js'),
}
```

## Running the App

### Development
```bash
npm run dev              # Vite dev server only
npm run electron:dev     # Electron + Vite
```

### Production
```bash
npm run build           # Build for production
npm run electron:build  # Build + package
```

## Key Takeaways

1. **Process Isolation**: Main, preload, and renderer are separate
2. **Secure IPC**: Use contextBridge, not nodeIntegration
3. **Vite Plugin**: vite-plugin-electron handles build
4. **Tailwind**: Works same as web React projects
5. **TypeScript**: Full type safety across all files
